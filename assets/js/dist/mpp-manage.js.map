{"version":3,"file":"./assets/js/dist/mpp-manage.js","mappings":"6BAIWA,E,6BC+BX,SAASC,EAAgBC,EAAOC,GAC5B,IAAIC,EAASD,EAAIE,MAAM,KACvB,OA7BJ,SAA2BH,EAAOI,GAC9B,IAAIC,EAEJ,QAA2B,IAAhBD,IAAgCA,EAAYE,OACnD,OAAO,EAKX,IAFA,IAAIC,EAAcH,EAAYD,MAAM,KAE3BK,EAAI,EAAGA,EAAID,EAAYD,OAAQE,IAIpC,IAFAH,EAAQE,EAAYC,GAAGL,MAAM,MAEnB,IAAMH,EACZ,OAAOK,EAAM,GAIrB,OAAO,EAWAI,CAAkBT,EAAOE,EAAOI,OAAS,EAAIJ,EAAO,GAAK,I,iDCrCpEQ,EAAOC,QAAUC,OAAe,SCC5BC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,IAOV,OAHAO,EAAoBH,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,QCpBfG,EAAoBK,EAAI,SAAST,GAChC,IAAIU,EAASV,GAAUA,EAAOW,WAC7B,WAAa,OAAOX,EAAgB,SACpC,WAAa,OAAOA,GAErB,OADAI,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRN,EAAoBQ,EAAI,SAASX,EAASa,GACzC,IAAI,IAAIC,KAAOD,EACXV,EAAoBY,EAAEF,EAAYC,KAASX,EAAoBY,EAAEf,EAASc,IAC5EE,OAAOC,eAAejB,EAASc,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EX,EAAoBY,EAAI,SAASK,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,4BNIpFlC,EAwMRsC,KAtMGC,UAAUC,OAAM,WAKdxC,EAAEuC,UAAUE,GAAG,QAAS,kBAAkB,WAElCzC,EAAE0C,MAAMC,GAAG,YAEX3C,EAAE,gCAAgCkC,KAAK,WAAW,GAIlDlC,EAAE,gCAAgCkC,KAAK,WAAW,MAQ1DlC,EAAEuC,UAAUE,GAAG,QAAS,mCAAmC,WAEvD,IACItC,EADQH,EAAE0C,MACEE,KAAK,QACjBC,GAAa5C,EAAAA,EAAAA,GAAgB,aAAcE,GAC3C2C,GAAQ7C,EAAAA,EAAAA,GAAgB,WAAYE,GAoBxC,OAlBAH,EAAE+C,KAAKC,QAAS,CACRC,OAAQ,4BACRJ,WAAYA,EACZK,SAAUJ,EACVK,OAAQC,mBAAmBb,SAASY,UACrC,SAAUE,GACT,IAAIC,OACmBnC,IAAnBkC,EAASC,QACTA,EAAQ,GAGZtD,EAAE,+BAA+BuD,OAEjCC,IAAIC,OAAOJ,EAASK,QAASJ,KAGjC,SAEG,KAQXtD,EAAEuC,UAAUE,GAAG,QAAS,wCAAwC,WAE5D,IACItC,EADQH,EAAE0C,MACEE,KAAK,QACjBC,GAAa5C,EAAAA,EAAAA,GAAgB,aAAcE,GAC3C2C,GAAQ7C,EAAAA,EAAAA,GAAgB,WAAYE,GAqBxC,OAnBAH,EAAE+C,KAAKC,QAAS,CACRC,OAAQ,6BACRJ,WAAYA,EACZK,SAAUJ,EACVK,OAAQC,mBAAmBb,SAASY,UACrC,SAAUE,GAET,IAAIC,OAC2B,IAAnBD,EAASC,QACjBA,EAAQ,GAGZtD,EAAE,+BAA+BuD,OAEjCC,IAAIC,OAAOJ,EAASK,QAASJ,KAGjC,SAEG,UAQWnC,IAAlBnB,EAAE2D,GAAGC,UACL5D,EAAE,iBAAiB4D,SAAS,CAACC,QAAS,GAAKC,OAAQ,SA4BvD9D,EAAEuC,UAAUE,GAAG,QAAS,iCAAiC,WACrD,IAAIsB,EAAQ/D,EAAE0C,MAQd,OAPAqB,EAAMR,OACMvD,EAAE,iCAAmC+D,EAAMC,KAAK,iBAEtDC,YAAY,mBAClBjE,EAAE,wCAAwCkE,OAC1ClE,EAAE,mCAAmCuD,QAE9B,KAIXvD,EAAEuC,UAAUE,GAAG,QAAS,wCAAwC,WAC5D,IAAIsB,EAAQ/D,EAAE0C,MASd,OARY1C,EAAE,iCAAmC+D,EAAMC,KAAK,iBAEtDG,SAAS,mBACfJ,EAAMR,OAENvD,EAAE,iCAAiCkE,OACnClE,EAAE,mCAAmCkE,QAE9B,KAIXlE,EAAEuC,UAAUE,GAAG,QAAS,0CAA0C,WAC9D,IAAIsB,EAAQ/D,EAAE0C,MASd,OARY1C,EAAE,iCAAmC+D,EAAMC,KAAK,iBAGtDG,SAAS,mBAEfnE,EAAE,wCAAwCuD,OAC1CvD,EAAE,iCAAiCkE,OACnClE,EAAE,mCAAmCkE,QAC9B,KAIXlE,EAAEuC,UAAUE,GAAG,QAAS,0CAA0C,WAC9D,IAAI2B,EAAcpE,EAAE0C,MAChB2B,EAAQD,EAAYE,QAAQ,iCAC5BC,EAAcF,EAAMG,KAAK,0CAE7BH,EAAMG,KAAK,qBAAqBN,OAGhCE,EAAYxB,KAAK,YAAY,GAC7B2B,EAAY3B,KAAK,YAAY,GAEAyB,EAxDxBG,KAAK,4BAA4BC,SA0DtC,IAAIT,EAAOK,EAAMK,YAuBjB,OAtBAV,GAAQ,oCAERhE,EAAE+C,KAAKC,QAASgB,GAAM,SAAUX,GAC5B,IAAIsB,EAAgB3E,EAAE2E,cAAcC,SAEhCvB,EAASwB,SAETF,EAAcG,SAASC,IAAM1B,EAASW,KAAKgB,QAC3CL,EAAcpE,MAAMoE,EAAcM,OAASN,EAAcG,SACzDH,EAAcO,kBAnF1B,SAAqCC,EAAMzB,GACvC,IAAI0B,EAAMD,EAAKX,KAAK,4BACfY,EAAI5E,SACL2E,EAAKE,QAAQ,yDACbD,EAAMD,EAAKX,KAAK,6BAEpBY,EAAIE,KAAK,MAAQ5B,EAAU,QAgFnB6B,CAA4BlB,EAAOhB,EAASW,KAAKN,SAGrDU,EAAYxB,KAAK,YAAY,GAC7B2B,EAAY3B,KAAK,YAAY,GAE7ByB,EAAMG,KAAK,qBAAqBjB,WAI7B,Q","sources":["webpack://mediapress/./assets/js/mpp-manage.js","webpack://mediapress/./assets/js/src/utils/functions.js","webpack://mediapress/external window \"jQuery\"","webpack://mediapress/webpack/bootstrap","webpack://mediapress/webpack/runtime/compat get default export","webpack://mediapress/webpack/runtime/define property getters","webpack://mediapress/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["\nimport jQuery from 'jquery';\nimport {getURLParameter, getQueryParameter} from './src/utils/functions';\n\n(function ($){\n\n    $(document).ready(function (){\n        /**\n         * Bulk Actions checkbox on Gallery-> Edit Media page\n         * Check/uncheck based on user action\n         */\n        $(document).on('click', '#mpp-check-all', function () {\n\n            if ($(this).is(':checked')) {\n                // check all others\n                $('input.mpp-delete-media-check').prop('checked', true);\n\n            } else {\n                // uncheck all\n                $('input.mpp-delete-media-check').prop('checked', false);\n            }\n        });\n\n        /**\n         * Single Gallery -> Edit Media page\n         * Handle publish to activity action\n         */\n        $(document).on('click', '.mpp-publish-to-activity-button', function () {\n\n            let $this = $(this),\n                url = $this.attr('href'),\n                gallery_id = getURLParameter('gallery_id', url),\n                nonce = getURLParameter('_wpnonce', url);\n\n            $.post(ajaxurl, {\n                    action: 'mpp_publish_gallery_media',\n                    gallery_id: gallery_id,\n                    _wpnonce: nonce,\n                    cookie: encodeURIComponent(document.cookie)\n                }, function (response) {\n                    let error;\n                    if (response.error !== undefined) {\n                        error = 1;\n                    }\n                    //hide the button\n                    $('#mpp-unpublished-media-info').hide();\n\n                    mpp.notify(response.message, error);\n                },\n\n                'json');\n\n            return false;\n\n        });\n\n        /**\n         * Single Gallery->Edit Media\n         * Handle delete unpublished media\n         */\n        $(document).on('click', '.mpp-delete-unpublished-media-button', function () {\n\n            let $this = $(this),\n                url = $this.attr('href'),\n                gallery_id = getURLParameter('gallery_id', url),\n                nonce = getURLParameter('_wpnonce', url);\n\n            $.post(ajaxurl, {\n                    action: 'mpp_hide_unpublished_media',\n                    gallery_id: gallery_id,\n                    _wpnonce: nonce,\n                    cookie: encodeURIComponent(document.cookie)\n                }, function (response) {\n\n                    let error;\n                    if (typeof  response.error !== \"undefined\") {\n                        error = 1;\n                    }\n                    //hide the button\n                    $('#mpp-unpublished-media-info').hide();\n\n                    mpp.notify(response.message, error);\n                },\n\n                'json');\n\n            return false;\n        });\n\n        /**\n         * Single Gallery->Reorder\n         * Enable Media sorting/re-odering on manage gallery/reorder page\n         *\n         */\n        if ($.fn.sortable !== undefined) {\n            $(\"#mpp-sortable\").sortable({opacity: 0.6, cursor: 'move'});\n        }\n\n        /**\n         * Show error message in the lighbox media edit form.\n         *\n         * @param form\n         * @param message\n         */\n        function mpp_ligtbox_show_edit_error(form, message) {\n            let $el = form.find('.mpp-lightbox-edit-error');\n            if (!$el.length) {\n                form.prepend(\"<div class='mpp-error mpp-lightbox-edit-error'></div>\");\n                $el = form.find('.mpp-lightbox-edit-error');\n            }\n            $el.html('<p>' + message + '</p>');\n        }\n\n        /**\n         * Hide error in the lightbox media edit form.\n         *\n         * @param form\n         */\n        function mpp_lightbox_hide_edit_error(form) {\n            form.find('.mpp-lightbox-edit-error').remove();\n        }\n\n        // Handle Lightbox edit media link clicked\n        $(document).on('click', '.mpp-lightbox-edit-media-link', function () {\n            let $this = $(this);\n            $this.hide();\n            let $form = $('#mpp-lightbox-media-edit-form-' + $this.data('mpp-media-id'));\n\n            $form.removeClass('mpp-form-hidden');\n            $('.mpp-lightbox-edit-media-cancel-link').show();\n            $('.mpp-lightbox-media-description').hide();\n\n            return false;\n        });\n\n        // Lightbox edit media cancel link clicked\n        $(document).on('click', '.mpp-lightbox-edit-media-cancel-link', function () {\n            let $this = $(this),\n                $form = $('#mpp-lightbox-media-edit-form-' + $this.data('mpp-media-id'));\n\n            $form.addClass('mpp-form-hidden');\n            $this.hide();\n\n            $('.mpp-lightbox-edit-media-link').show();\n            $('.mpp-lightbox-media-description').show();\n\n            return false;\n        });\n\n        // Lightbox Edit:- Cancel button in the form clicked.\n        $(document).on('click', '.mpp-lightbox-edit-media-cancel-button', function () {\n            let $this = $(this),\n                $form = $('#mpp-lightbox-media-edit-form-' + $this.data('mpp-media-id'));\n\n            // Hide form.\n            $form.addClass('mpp-form-hidden');\n            // show edit link.\n            $('.mpp-lightbox-edit-media-cancel-link').hide();\n            $('.mpp-lightbox-edit-media-link').show();\n            $('.mpp-lightbox-media-description').show();\n            return false;\n        });\n\n        // Lightbox Edit Media:- On submit.\n        $(document).on('click', '.mpp-lightbox-edit-media-submit-button', function () {\n            let $btn_submit = $(this),\n                $form = $btn_submit.parents('.mpp-lightbox-media-edit-form'),\n                $btn_cancel = $form.find('.mpp-lightbox-edit-media-cancel-button');\n\n            $form.find('.mpp-loader-image').show();\n\n            //disable buttons\n            $btn_submit.attr('disabled', true);\n            $btn_cancel.attr('disabled', true);\n\n            mpp_lightbox_hide_edit_error($form);\n            // submit form\n            let data = $form.serialize();\n            data += '&action=mpp_update_lightbox_media';\n\n            $.post(ajaxurl, data, function (response) {\n                let magnificPopup = $.magnificPopup.instance;\n\n                if (response.success) {\n                    // success\n                    magnificPopup.currItem.src = response.data.content;\n                    magnificPopup.items[magnificPopup.index] = magnificPopup.currItem;\n                    magnificPopup.updateItemHTML();\n                } else {\n                    // Failed.\n                    mpp_ligtbox_show_edit_error($form, response.data.message);\n                }\n\n                $btn_submit.attr('disabled', false);\n                $btn_cancel.attr('disabled', false);\n\n                $form.find('.mpp-loader-image').hide();\n\n            });\n\n            return false;\n        });\n    });\n\n})(jQuery);","\n/**\n * Get the  value of a query parameter from the url\n *\n * @param param string the query var to be found.\n * @param queryString the query string.\n * @returns string\n */\nfunction getQueryParameter(param, queryString) {\n    var items;\n\n    if (typeof queryString === \"undefined\" || !queryString.length) {\n        return false;\n    }\n\n    var data_fields = queryString.split('&');\n\n    for (var i = 0; i < data_fields.length; i++) {\n\n        items = data_fields[i].split('=');\n\n        if (items[0] == param) {\n            return items[1];\n        }\n    }\n\n    return false;\n}\n/**\n * Extract a query variable from url\n *\n * @param param string\n * @param url string\n * @returns {Boolean|String|mixed}\n */\nfunction getURLParameter(param, url) {\n    let chunks = url.split('?');\n    return getQueryParameter(param, chunks.length > 1 ? chunks[1] : '');\n}\nexport {getQueryParameter, getURLParameter};","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["$","getURLParameter","param","url","chunks","split","queryString","items","length","data_fields","i","getQueryParameter","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","jQuery","document","ready","on","this","is","attr","gallery_id","nonce","post","ajaxurl","action","_wpnonce","cookie","encodeURIComponent","response","error","hide","mpp","notify","message","fn","sortable","opacity","cursor","$this","data","removeClass","show","addClass","$btn_submit","$form","parents","$btn_cancel","find","remove","serialize","magnificPopup","instance","success","currItem","src","content","index","updateItemHTML","form","$el","prepend","html","mpp_ligtbox_show_edit_error"],"sourceRoot":""}