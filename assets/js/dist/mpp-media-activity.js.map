{"version":3,"file":"./assets/js/dist/mpp-media-activity.js","mappings":"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","sources":["webpack://mediapress/./assets/js/src/utils/cookie.js","webpack://mediapress/external window \"jQuery\"","webpack://mediapress/webpack/bootstrap","webpack://mediapress/webpack/runtime/compat get default export","webpack://mediapress/webpack/runtime/define property getters","webpack://mediapress/webpack/runtime/hasOwnProperty shorthand","webpack://mediapress/./assets/js/mpp-media-activity.js"],"sourcesContent":["\n/** If the jQuery Cookie plugin is not included, include it*/\nif (jQuery.cookie === undefined) {\n    /* jQuery Cookie plugin */\n    jQuery.cookie = function (name, value, options) {\n        if (typeof value !== 'undefined') {\n            options = options || {};\n            if (value === null) {\n                value = '';\n                options.expires = -1;\n            }\n            var expires = '';\n            if (options.expires && (typeof options.expires === 'number' || options.expires.toUTCString)) {\n                var date;\n                if (typeof options.expires === 'number') {\n                    date = new Date();\n                    date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));\n                } else {\n                    date = options.expires;\n                }\n                expires = '; expires=' + date.toUTCString();\n            }\n            var path = options.path ? '; path=' + (options.path) : '';\n            var domain = options.domain ? '; domain=' + (options.domain) : '';\n            var secure = options.secure ? '; secure' : '';\n            document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');\n        } else {\n            var cookieValue = null;\n            if (document.cookie && document.cookie != '') {\n                var cookies = document.cookie.split(';');\n                for (var i = 0; i < cookies.length; i++) {\n                    var cookie = jQuery.trim(cookies[i]);\n                    if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                        break;\n                    }\n                }\n            }\n            return cookieValue;\n        }\n    };\n\n}","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import jQuery from 'jquery';\nimport './src/utils/cookie';\n\n//this file mostly contains the modified version of functions\n//taken from buddypress.js to add/delete activity and other activity related action\n\n(function ($){\n\n\t$(document).ready( function() {\n\n\t\t/**\n\t\t * For Allowing User to post first comment to a media Item when the media item has no entry in the activity table\n\t\t * Thanks to @apeatling, this function is taken from bp-default/_inc/global.js but slightly modified to use prefix mpp-\n\t\t */\n\n\t\t/* Textarea focus */\n\t\t$(document).on('focus', '#mpp-whats-new', function() {\n\t\t\t$(\"#mpp-whats-new-options\").animate({\n\t\t\t\theight:'50px'\n\t\t\t});\n\t\t\t/*$(\"form#mpp-whats-new-form textarea\").animate({\n                height:'50px'\n            });\n            */\n\t\t\t$(\"#mpp-aw-whats-new-submit\").prop(\"disabled\", false);\n\n\t\t\tlet $whats_new_form = $(\"form#mpp-whats-new-form\");\n\t\t\tif ( $whats_new_form.hasClass(\"submitted\") ) {\n\t\t\t\t$whats_new_form.removeClass(\"submitted\");\n\t\t\t}\n\t\t});\n\n\t\t/* On blur, shrink if it's empty */\n\t\t$(document).on('blur', '#mpp-whats-new',  function(){\n\t\t\tif (!this.value.match(/\\S+/)) {\n\t\t\t\tthis.value = \"\";\n\t\t\t\t$(\"#mpp-whats-new-options\").animate({\n\t\t\t\t\theight:'0'\n\t\t\t\t});\n\t\t\t\t/*\n                $(\"form#mpp-whats-new-form textarea\").animate({\n                    height:'20px'\n                });*/\n\t\t\t\t$(\"#mpp-aw-whats-new-submit\").prop(\"disabled\", true);\n\t\t\t}\n\t\t});\n\n\t\t/* New posts Activity comment(not the replies to comment) on media/gallery */\n\t\t$(document).on('click', 'input#mpp-aw-whats-new-submit', function() {\n\t\t\tlet activity_list = '',\n\t\t\t\tbutton = $(this),\n\t\t\t\tform = button.closest(\"form#mpp-whats-new-form\");\n\n\t\t\tform.children().each(function () {\n\t\t\t\tif ($.nodeName(this, \"textarea\") || $.nodeName(this, \"input\"))\n\t\t\t\t\t$(this).prop('disabled', true);\n\t\t\t});\n\n\t\t\t/* Remove any errors */\n\t\t\t$('div.error').remove();\n\n\t\t\tbutton.addClass('loading');\n\t\t\tbutton.prop('disabled', true);\n\t\t\tform.addClass(\"submitted\");\n\n\t\t\t/* Default POST values */\n\t\t\tlet object = '',\n\t\t\t\titem_id = form.find(\"#mpp-whats-new-post-in\").val(),\n\t\t\t\tcontent = form.find(\"textarea#mpp-whats-new\").val();\n\n\t\t\t/* Set object for non-profile posts */\n\t\t\tif ( item_id > 0 ) {\n\t\t\t\tobject = form.find(\"#mpp-whats-new-post-object\").val();\n\t\t\t}\n\n\t\t\tlet mpp_type = $(form).find('#mpp-activity-type').val(),\n\t\t\t\tmpp_id = $(form).find('#mpp-item-id').val();\n\t\t\t$.post( ajaxurl, {\n\t\t\t\t\taction: 'mpp_add_comment',\n\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t'_wpnonce_post_update': form.find(\"input#_wpnonce_post_update\").val(),\n\t\t\t\t\t'content': content,\n\t\t\t\t\t'object': object,\n\t\t\t\t\t'item_id': item_id,\n\t\t\t\t\t'mpp-id': mpp_id,\n\t\t\t\t\t'mpp-type'\t: mpp_type, //media or gallery\n\t\t\t\t\t'_bp_as_nonce': $('#_bp_as_nonce').val() || ''\n\t\t\t\t},\n\t\t\t\tfunction(response) {\n\n\t\t\t\t\tform.children().each( function() {\n\t\t\t\t\t\tif ( $.nodeName(this, \"textarea\") || $.nodeName(this, \"input\") ) {\n\t\t\t\t\t\t\t$(this).prop( 'disabled', false );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbutton.prop('disabled', false);\n\t\t\t\t\t/* Check for errors and append if found. */\n\t\t\t\t\tif ( response[0] + response[1] == '-1' ) {\n\t\t\t\t\t\tform.prepend( response.substr( 2, response.length ) );\n\t\t\t\t\t\t$( 'form#' + form.attr('id') + ' div.error').hide().fadeIn( 200 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactivity_list = $(form.parents('.mpp-activity').get(0) );\n\t\t\t\t\t\tif ( 0 === (activity_list.find(\"ul.mpp-activity-list\")).length ) {\n\t\t\t\t\t\t\t$(\"div.error\").slideUp(100).remove();\n\t\t\t\t\t\t\t$(\"div#message\").slideUp(100).remove();\n\t\t\t\t\t\t\tactivity_list.append( '<ul id=\"mpp-activity-stream\" class=\"mpp-activity-list item-list\">' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tactivity_list.find(\"ul#mpp-activity-stream\").prepend(response);\n\t\t\t\t\t\tactivity_list.find(\"ul#mpp-activity-stream li:first\").addClass('new-update just-posted');\n\n\n\t\t\t\t\t\tform.find(\"textarea#mpp-whats-new\").val('');\n\t\t\t\t\t}\n\n\t\t\t\t\tform.find(\"#mpp-whats-new-options\").animate({\n\t\t\t\t\t\theight:'0px'\n\t\t\t\t\t});\n\t\t\t\t\tform.find(\"textarea\").animate({\n\t\t\t\t\t\theight:'20px'\n\t\t\t\t\t});\n\t\t\t\t\tform.find(\"#mpp-whats-new-submit\").prop(\"disabled\", false).removeClass('loading');\n\t\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\n\t\t/* Stream event delegation */\n\t\t$(document).on('click', 'div.mpp-activity', function(event) {\n\t\t\tlet target = $(event.target),\n\t\t\t\ttype, parent, parent_id,\n\t\t\t\tli, id, link_href, nonce, timestamp,\n\t\t\t\toldest_page, just_posted,load_more_args,load_more_search;\n\n\t\t\t/* Favoriting activity stream items */\n\t\t\tif ( target.hasClass('fav') || target.hasClass('unfav') ) {\n\t\t\t\ttype      = target.hasClass('fav') ? 'fav' : 'unfav';\n\t\t\t\tparent    = target.closest('.activity-item');\n\t\t\t\tparent_id = parent.attr('id').substr( 9, parent.attr('id').length );\n\n\t\t\t\ttarget.addClass('loading');\n\n\t\t\t\t$.post( ajaxurl, {\n\t\t\t\t\t\taction: 'activity_mark_' + type,\n\t\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t\t'id': parent_id\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\ttarget.removeClass('loading');\n\n\t\t\t\t\t\ttarget.fadeOut( 200, function() {\n\t\t\t\t\t\t\t$(this).html(response);\n\t\t\t\t\t\t\t$(this).attr('title', 'fav' === type ? _mppStrings.remove_fav : _mppStrings.mark_as_fav);\n\t\t\t\t\t\t\t$(this).fadeIn(200);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( 'fav' === type ) {\n\t\t\t\t\t\t\tif ( !$('.item-list-tabs #activity-favs-personal-li').length ) {\n\t\t\t\t\t\t\t\tif ( !$('.item-list-tabs #activity-favorites').length ) {\n\t\t\t\t\t\t\t\t\t$('.item-list-tabs ul #activity-mentions').before( '<li id=\"activity-favorites\"><a href=\"#\">' + _mppStrings.my_favs + ' <span>0</span></a></li>');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$('.item-list-tabs ul #activity-favorites span').html( Number( $('.item-list-tabs ul #activity-favorites span').html() ) + 1 );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttarget.removeClass('fav');\n\t\t\t\t\t\t\ttarget.addClass('unfav');\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Delete activity stream items */\n\t\t\tif ( target.hasClass('delete-activity') ) {\n\t\t\t\tli        = target.parents('div.mpp-activity ul li');\n\t\t\t\tid        = li.attr('id').substr( 9, li.attr('id').length );\n\t\t\t\tlink_href = target.attr('href');\n\t\t\t\tnonce     = link_href.split('_wpnonce=');\n\t\t\t\ttimestamp = li.prop( 'class' ).match( /date-recorded-([0-9]+)/ );\n\t\t\t\tnonce     = nonce[1];\n\n\t\t\t\ttarget.addClass('loading');\n\n\t\t\t\t$.post( ajaxurl, {\n\t\t\t\t\t\taction: 'delete_activity',\n\t\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t\t'id': id,\n\t\t\t\t\t\t'_wpnonce': nonce\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response) {\n\n\t\t\t\t\t\tif ( response[0] + response[1] === '-1' ) {\n\t\t\t\t\t\t\tli.prepend( response.substr( 2, response.length ) );\n\t\t\t\t\t\t\tli.children('#message').hide().fadeIn(300);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tli.slideUp(300);\n\n\t\t\t\t\t\t\t// reset vars to get newest activities\n\t\t\t\t\t\t\tif ( timestamp && activity_last_recorded === timestamp[1] ) {\n\t\t\t\t\t\t\t\tnewest_activities = '';\n\t\t\t\t\t\t\t\tactivity_last_recorded  = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Spam activity stream items\n\t\t\tif ( target.hasClass( 'spam-activity' ) ) {\n\t\t\t\tli        = target.parents( 'div.mpp-activity ul li' );\n\t\t\t\ttimestamp = li.prop( 'class' ).match( /date-recorded-([0-9]+)/ );\n\t\t\t\ttarget.addClass( 'loading' );\n\n\t\t\t\t$.post( ajaxurl, {\n\t\t\t\t\t\taction: 'bp_spam_activity',\n\t\t\t\t\t\t'cookie': encodeURIComponent( document.cookie ),\n\t\t\t\t\t\t'id': li.attr( 'id' ).substr( 9, li.attr( 'id' ).length ),\n\t\t\t\t\t\t'_wpnonce': target.attr( 'href' ).split( '_wpnonce=' )[1]\n\t\t\t\t\t},\n\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\tif ( response[0] + response[1] === '-1' ) {\n\t\t\t\t\t\t\tli.prepend( response.substr( 2, response.length ) );\n\t\t\t\t\t\t\tli.children( '#message' ).hide().fadeIn(300);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tli.slideUp( 300 );\n\t\t\t\t\t\t\t// reset vars to get newest activities\n\t\t\t\t\t\t\tif ( timestamp && activity_last_recorded === timestamp[1] ) {\n\t\t\t\t\t\t\t\tnewest_activities = '';\n\t\t\t\t\t\t\t\tactivity_last_recorded  = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Load more updates at the end of the page */\n\t\t\tif ( target.parent().hasClass('mpp-load-more') ) {\n\t\t\t\tif ( bp_ajax_request ) {\n\t\t\t\t\tbp_ajax_request.abort();\n\t\t\t\t}\n\n\t\t\t\ttarget.parent().find('.mpp-load-more').addClass('loading');\n\n\t\t\t\tif ( null === $.cookie('bp-activity-oldestpage') ) {\n\t\t\t\t\t$.cookie('bp-activity-oldestpage', 1, {\n\t\t\t\t\t\tpath: '/'\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\toldest_page = ( $.cookie('bp-activity-oldestpage') * 1 ) + 1;\n\t\t\t\tjust_posted = [];\n\n\t\t\t\t$('.mpp-activity-list li.just-posted').each( function(){\n\t\t\t\t\tjust_posted.push( $(this).attr('id').replace( 'mpp-activity-','' ) );\n\t\t\t\t});\n\n\t\t\t\tload_more_args = {\n\t\t\t\t\taction: 'activity_get_older_updates',\n\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t'page': oldest_page,\n\t\t\t\t\t'exclude_just_posted': just_posted.join(',')\n\t\t\t\t};\n\n\t\t\t\tload_more_search = getQueryString('s');\n\n\t\t\t\tif ( load_more_search ) {\n\t\t\t\t\tload_more_args.search_terms = load_more_search;\n\t\t\t\t}\n\n\t\t\t\tbp_ajax_request = $.post( ajaxurl, load_more_args,\n\t\t\t\t\tfunction(response)\n\t\t\t\t\t{\n\t\t\t\t\t\ttarget.parent().find('.mpp-load-more').removeClass('loading');\n\t\t\t\t\t\t$.cookie( 'bp-activity-oldestpage', oldest_page, {\n\t\t\t\t\t\t\tpath: '/'\n\t\t\t\t\t\t} );\n\t\t\t\t\t\t$('ul.mpp-activity-list').append(response.contents);\n\n\t\t\t\t\t\ttarget.parent().hide();\n\t\t\t\t\t}, 'json' );\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Load newest updates at the top of the list */\n\t\t\tif ( target.parent().hasClass('load-newest') ) {\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\ttarget.parent().hide();\n\n\t\t\t\t/**\n\t\t\t\t * If a plugin is updating the recorded_date of an activity\n\t\t\t\t * it will be loaded as a new one. We need to look in the\n\t\t\t\t * stream and eventually remove similar ids to avoid \"double\".\n\t\t\t\t */\n\t\t\t\tlet activity_html = $.parseHTML( newest_activities );\n\n\t\t\t\t$.each( activity_html, function( i, el ){\n\t\t\t\t\tif( 'LI' === el.nodeName && $(el).hasClass( 'just-posted' ) ) {\n\t\t\t\t\t\tif( $( '#' + $(el).attr( 'id' ) ).length ) {\n\t\t\t\t\t\t\t$( '#' + $(el).attr( 'id' ) ).remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t// Now the stream is cleaned, prepend newest\n\t\t\t\t$( 'ul.mpp-activity-list' ).prepend( newest_activities );\n\n\t\t\t\t// reset the newest activities now they're displayed\n\t\t\t\tnewest_activities = '';\n\t\t\t}\n\t\t});\n\n\t\t// Activity \"Read More\" links inside the gallery/media activity\n\t\t$(document).on('click', 'div.mpp-activity .activity-read-more a', function(event) {\n\n\t\t\tlet target = $(event.target),\n\t\t\t\tlink_id = target.parent().attr('id').split('-'),\n\t\t\t\ta_id    = link_id[4],\n\t\t\t\ttype    = link_id[1], /* activity or acomment */\n\t\t\t\tinner_class, a_inner;\n\n\t\t\tinner_class = type === 'acomment' ? 'mpp-acomment-content' : 'mpp-activity-inner';\n\t\t\ta_inner = $('#' + type + '-' + a_id + ' .' + inner_class + ':first' );\n\t\t\t$(target).addClass('loading');\n\n\t\t\t$.post( ajaxurl, {\n\t\t\t\t\taction: 'get_single_activity_content',//should we override it too?\n\t\t\t\t\t'activity_id': a_id\n\t\t\t\t},\n\t\t\t\tfunction(response) {\n\t\t\t\t\t$(a_inner).slideUp(300).html(response).slideDown(300);\n\t\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\n\t\t/**** Activity Comments *******************************************************/\n\n\t\t/* Hide all activity comment forms */\n\t\t$('form.mpp-ac-form').hide();\n\n\t\t/* Activity list event delegation */\n\t\t$(document).on( 'click', '.mpp-activity', function(event) {\n\n\t\t\tlet target = $(event.target),\n\t\t\t\tid, ids, a_id, c_id, form,\n\t\t\t\tform_parent, form_id,\n\t\t\t\ttmp_id, comment_id, comment,content,\n\t\t\t\tajaxdata,\n\t\t\t\tak_nonce,\n\t\t\t\tshow_all_a, new_count,\n\t\t\t\tlink_href, comment_li, nonce;\n\n\t\t\t/* Comment / comment reply links */\n\t\t\tif ( target.hasClass('mpp-acomment-reply') || target.parent().hasClass('mpp-acomment-reply') ) {\n\t\t\t\tif ( target.parent().hasClass('mpp-acomment-reply') ) {\n\t\t\t\t\ttarget = target.parent();\n\t\t\t\t}\n\n\t\t\t\t id = target.attr('id');\n\t\t\t\tids = id.split('-');\n\n\t\t\t\t a_id = ids[3];\n\t\t\t\t c_id = target.attr('href').substr( 10, target.attr('href').length );\n\n\t\t\t\t form = $( '#mpp-ac-form-' + a_id );\n\n\t\t\t\tform.css( 'display', 'none' );\n\t\t\t\tform.removeClass('root');\n\t\t\t\t$('.mpp-ac-form').hide();\n\n\t\t\t\t/* Hide any error messages */\n\t\t\t\tform.children('div').each( function() {\n\t\t\t\t\tif ( $(this).hasClass( 'error' ) )\n\t\t\t\t\t\t$(this).hide();\n\t\t\t\t});\n\n\t\t\t\tif ( ids[2] !== 'comment' ) {\n\t\t\t\t\t$('#mpp-acomment-' + c_id).append( form );\n\t\t\t\t} else {\n\t\t\t\t\t$('#mpp-activity-' + a_id + ' .mpp-activity-comments').append( form );\n\t\t\t\t}\n\n\t\t\t\tif ( form.parent().hasClass( 'mpp-activity-comments' ) ) {\n\t\t\t\t\tform.addClass('root');\n\t\t\t\t}\n\n\t\t\t\tform.slideDown( 200 );\n\t\t\t\t$.scrollTo( form, 500, {\n\t\t\t\t\toffset:-100,\n\t\t\t\t\teasing:'swing'\n\t\t\t\t} );\n\t\t\t\t$('#mpp-ac-form-' + ids[3] + ' textarea').focus();\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Activity comment posting */\n\t\t\tif ( target.attr('name') == 'mpp_ac_form_submit' ) {\n\t\t\t\t form        = target.parents( 'form' );\n\t\t\t\t form_parent = form.parent();\n\t\t\t\t form_id     = form.attr('id').split('-');\n\n\t\t\t\tif ( !form_parent.hasClass('mpp-activity-comments') ) {\n\t\t\t\t\t tmp_id = form_parent.attr('id').split('-');\n\t\t\t\t\t comment_id = tmp_id[2];\n\t\t\t\t} else {\n\t\t\t\t\t comment_id = form_id[3];\n\t\t\t\t}\n\t\t\t\tcontent = $( '#' + form.attr('id') + ' textarea' );\n\n\t\t\t\t/* Hide any error messages */\n\t\t\t\t$( '#' + form.attr('id') + ' div.error').hide();\n\t\t\t\ttarget.addClass('loading').prop('disabled', true);\n\t\t\t\tcontent.addClass('loading').prop('disabled', true);\n\n\t\t\t\t ajaxdata = {\n\t\t\t\t\taction: 'mpp_add_reply',\n\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t'_wpnonce_new_activity_comment': $(\"input#_wpnonce_new_activity_comment\").val(),\n\t\t\t\t\t'comment_id': comment_id,\n\t\t\t\t\t'form_id': form_id[3],\n\t\t\t\t\t'content': content.val()\n\t\t\t\t};\n\n\t\t\t\t// Akismet\n\t\t\t\tak_nonce = $('#_bp_as_nonce_' + comment_id).val();\n\t\t\t\tif ( ak_nonce ) {\n\t\t\t\t\tajaxdata['_bp_as_nonce_' + comment_id] = ak_nonce;\n\t\t\t\t}\n\n\t\t\t\t$.post( ajaxurl, ajaxdata, function(response) {\n\t\t\t\t\ttarget.removeClass('loading');\n\t\t\t\t\tcontent.removeClass('loading');\n\t\t\t\t\t/* Check for errors and append if found. */\n\t\t\t\t\tif ( response[0] + response[1] == '-1' ) {\n\t\t\t\t\t\tform.append( $( response.substr( 2, response.length ) ).hide().fadeIn( 200 ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet activity_comments = form.parent();\n\t\t\t\t\t\tform.fadeOut( 200, function() {\n\t\t\t\t\t\t\tif ( 0 === activity_comments.children('ul').length ) {\n\t\t\t\t\t\t\t\tif ( activity_comments.hasClass('mpp-activity-comments') ) {\n\t\t\t\t\t\t\t\t\tactivity_comments.prepend('<ul></ul>');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tactivity_comments.append('<ul></ul>');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Preceeding whitespace breaks output with jQuery 1.9.0 */\n\t\t\t\t\t\t\tlet the_comment = $.trim( response );\n\n\t\t\t\t\t\t\tactivity_comments.children('ul').append( $( the_comment ).hide().fadeIn( 200 ) );\n\t\t\t\t\t\t\tform.children('textarea').val('');\n\t\t\t\t\t\t\tactivity_comments.parent().addClass('has-comments');\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$( '#' + form.attr('id') + ' textarea').val('');\n\n\t\t\t\t\t\t/* Increase the \"Reply (X)\" button count */\n\t\t\t\t\t\t$('#mpp-activity-' + form_id[3] + ' a.mpp-acomment-reply span').html( Number( $('#mpp-activity-' + form_id[3] + ' a.mpp-acomment-reply span').html() ) + 1 );\n\n\t\t\t\t\t\t// Increment the 'Show all x comments' string, if present\n\t\t\t\t\t\tlet show_all_a = activity_comments.find('.show-all').find('a');\n\t\t\t\t\t\tif ( show_all_a ) {\n\t\t\t\t\t\t\tnew_count = $('li#mpp-activity-' + form_id[3] + ' a.mpp-acomment-reply span').html();\n\t\t\t\t\t\t\tshow_all_a.html( _mppStrings.show_x_comments.replace( '%d', new_count ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(target).prop('disabled', false);\n\t\t\t\t\t$(content).prop('disabled', false);\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Deleting an activity comment */\n\t\t\tif ( target.hasClass('mpp-acomment-delete') ) {\n\t\t\t\t link_href = target.attr('href');\n\t\t\t\t comment_li = target.parent().parent();\n\t\t\t\t form = comment_li.parents('div.mpp-activity-comments').children('form');\n\n\t\t\t\t nonce = link_href.split('_wpnonce=');\n\t\t\t\tnonce = nonce[1];\n\n\t\t\t\tcomment_id = link_href.split('cid=');\n\t\t\t\tcomment_id = comment_id[1].split('&');\n\t\t\t\tcomment_id = comment_id[0];\n\n\t\t\t\ttarget.addClass('loading');\n\n\t\t\t\t/* Remove any error messages */\n\t\t\t\t$('.mpp-activity-comments ul .error').remove();\n\n\t\t\t\t/* Reset the form position */\n\t\t\t\tcomment_li.parents('.mpp-activity-comments').append(form);\n\n\t\t\t\t$.post( ajaxurl, {\n\t\t\t\t\t\taction: 'delete_activity_comment',\n\t\t\t\t\t\t'cookie': get_cookies(),\n\t\t\t\t\t\t'_wpnonce': nonce,\n\t\t\t\t\t\t'id': comment_id\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\t/* Check for errors and append if found. */\n\t\t\t\t\t\tif ( response[0] + response[1] === '-1' ) {\n\t\t\t\t\t\t\tcomment_li.prepend( $( response.substr( 2, response.length ) ).hide().fadeIn( 200 ) );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet children  = $( '#' + comment_li.attr('id') + ' ul' ).children('li'),\n\t\t\t\t\t\t\t\tchild_count = 0,\n\t\t\t\t\t\t\t\tcount_span, new_count, show_all_a;\n\n\t\t\t\t\t\t\t$(children).each( function() {\n\t\t\t\t\t\t\t\tif ( !$(this).is(':hidden') ) {\n\t\t\t\t\t\t\t\t\tchild_count++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcomment_li.fadeOut(200, function() {\n\t\t\t\t\t\t\t\tcomment_li.remove();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t/* Decrease the \"Reply (X)\" button count */\n\t\t\t\t\t\t\tcount_span = $('#' + comment_li.parents('#mpp-activity-stream > li').attr('id') + ' a.mpp-acomment-reply span');\n\t\t\t\t\t\t\tnew_count = count_span.html() - ( 1 + child_count );\n\t\t\t\t\t\t\tcount_span.html(new_count);\n\n\t\t\t\t\t\t\t// Change the 'Show all x comments' text\n\t\t\t\t\t\t\tshow_all_a = comment_li.siblings('.show-all').find('a');\n\t\t\t\t\t\t\tif ( show_all_a ) {\n\t\t\t\t\t\t\t\tshow_all_a.html( _mppStrings.show_x_comments.replace( '%d', new_count ) );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* If that was the last comment for the item, remove the has-comments class to clean up the styling */\n\t\t\t\t\t\t\tif ( 0 === new_count ) {\n\t\t\t\t\t\t\t\t$(comment_li.parents('#mpp-activity-stream > li')).removeClass('has-comments');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Spam an activity stream comment\n\t\t\tif ( target.hasClass( 'spam-activity-comment' ) ) {\n\t\t\t\tlink_href  = target.attr( 'href' );\n\t\t\t\tcomment_li = target.parent().parent();\n\n\t\t\t\ttarget.addClass('loading');\n\n\t\t\t\t// Remove any error messages\n\t\t\t\t$( '.mpp-activity-comments ul div.error' ).remove();\n\n\t\t\t\t// Reset the form position\n\t\t\t\tcomment_li.parents( '.mpp-activity-comments' ).append( comment_li.parents( '.mpp-activity-comments' ).children( 'form' ) );\n\n\t\t\t\t$.post( ajaxurl, {\n\t\t\t\t\t\taction: 'bp_spam_activity_comment',\n\t\t\t\t\t\t'cookie': encodeURIComponent( document.cookie ),\n\t\t\t\t\t\t'_wpnonce': link_href.split( '_wpnonce=' )[1],\n\t\t\t\t\t\t'id': link_href.split( 'cid=' )[1].split( '&' )[0]\n\t\t\t\t\t},\n\n\t\t\t\t\tfunction ( response ) {\n\t\t\t\t\t\t// Check for errors and append if found.\n\t\t\t\t\t\tif ( response[0] + response[1] === '-1' ) {\n\t\t\t\t\t\t\tcomment_li.prepend( $( response.substr( 2, response.length ) ).hide().fadeIn( 200 ) );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet children  = $( '#' + comment_li.attr( 'id' ) + ' ul' ).children( 'li' ),\n\t\t\t\t\t\t\t\tchild_count = 0,\n\t\t\t\t\t\t\t\tparent_li;\n\n\t\t\t\t\t\t\t$(children).each( function() {\n\t\t\t\t\t\t\t\tif ( !$( this ).is( ':hidden' ) ) {\n\t\t\t\t\t\t\t\t\tchild_count++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcomment_li.fadeOut( 200 );\n\n\t\t\t\t\t\t\t// Decrease the \"Reply (X)\" button count\n\t\t\t\t\t\t\tparent_li = comment_li.parents( '#mpp-activity-stream > li' );\n\t\t\t\t\t\t\t$( '#' + parent_li.attr( 'id' ) + ' a.mpp-acomment-reply span' ).html( $( '#' + parent_li.attr( 'id' ) + ' a.mpp-acomment-reply span' ).html() - ( 1 + child_count ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/* Showing hidden comments - pause for half a second */\n\t\t\tif ( target.parent().hasClass('show-all') ) {\n\t\t\t\ttarget.parent().addClass('loading');\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\ttarget.parent().parent().children('li').fadeIn(200, function() {\n\t\t\t\t\t\ttarget.parent().remove();\n\t\t\t\t\t});\n\t\t\t\t}, 600 );\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Canceling an activity comment\n\t\t\tif ( target.hasClass( 'mpp-ac-reply-cancel' ) ) {\n\t\t\t\t$(target).closest('.mpp-ac-form').slideUp( 200 );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\t/* Escape Key Press for cancelling comment forms */\n\t\t$(document).on('keydown',  function(e) {\n\t\t\tlet element;\n\t\t\te = e || window.event;\n\t\t\tif (e.target) {\n\t\t\t\telement = e.target;\n\t\t\t} else if (e.srcElement) {\n\t\t\t\telement = e.srcElement;\n\t\t\t}\n\n\t\t\tif( element.nodeType === 3) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\tif( e.ctrlKey === true || e.altKey === true || e.metaKey === true ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet keyCode = (e.keyCode) ? e.keyCode : e.which;\n\n\t\t\tif ( keyCode === 27 ) {\n\t\t\t\tif (element.tagName === 'TEXTAREA') {\n\t\t\t\t\tif ( $(element).hasClass('mpp-ac-input') ) {\n\t\t\t\t\t\t$(element).parent().parent().parent().slideUp( 200 );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});//end of domready.\n\n\t//a replacement of bp_get_querystring for themes that does not have it\n\tfunction getQueryString( n ) {\n\t\tlet half = location.search.split( n + '=' )[1];\n\t\treturn half ? decodeURIComponent( half.split('&')[0] ) : null;\n\t}\n\n//copy of bp_get_cookies since some themes might not include that\n\t/* Returns a querystring of BP cookies (cookies beginning with 'bp-') */\n\tfunction get_cookies() {\n\t\t// get all cookies and split into an array\n\t\tlet allCookies   = document.cookie.split(\";\"),\n\t\t\tbpCookies    = {},\n\t\t\tcookiePrefix = 'bp-';\n\n\t\t// loop through cookies\n\t\tfor (let i = 0; i < allCookies.length; i++) {\n\t\t\tlet cookie    = allCookies[i],\n\t\t\t\tdelimiter = cookie.indexOf(\"=\");\n\t\t\tlet name      = $.trim( unescape( cookie.slice(0, delimiter) ) ),\n\t\t\t\tvalue     = unescape( cookie.slice(delimiter + 1) );\n\n\t\t\t// if BP cookie, store it\n\t\t\tif ( name.indexOf(cookiePrefix) == 0 ) {\n\t\t\t\tbpCookies[name] = value;\n\t\t\t}\n\t\t}\n\n\t\t// returns BP cookies as querystring\n\t\treturn encodeURIComponent( $.param(bpCookies) );\n\t}\n\n})(jQuery);\n"],"names":["undefined","jQuery","cookie","name","value","options","cookieValue","document","cookies","split","i","length","trim","substring","decodeURIComponent","expires","date","toUTCString","Date","setTime","getTime","path","domain","secure","encodeURIComponent","join","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","$","get_cookies","allCookies","bpCookies","delimiter","indexOf","unescape","slice","param","ready","on","animate","height","$whats_new_form","hasClass","removeClass","this","match","activity_list","button","form","closest","children","each","nodeName","remove","addClass","object","item_id","find","val","content","mpp_type","mpp_id","post","ajaxurl","action","response","prepend","substr","attr","hide","fadeIn","parents","slideUp","append","event","type","parent","parent_id","li","id","link_href","nonce","timestamp","oldest_page","just_posted","load_more_args","load_more_search","target","fadeOut","html","_mppStrings","remove_fav","mark_as_fav","before","my_favs","Number","activity_last_recorded","newest_activities","bp_ajax_request","abort","push","replace","half","location","search","getQueryString","search_terms","contents","preventDefault","activity_html","parseHTML","el","inner_class","a_inner","link_id","a_id","slideDown","ids","c_id","form_parent","form_id","tmp_id","comment_id","ajaxdata","ak_nonce","new_count","comment_li","css","scrollTo","offset","easing","focus","activity_comments","the_comment","show_all_a","show_x_comments","count_span","child_count","is","siblings","parent_li","setTimeout","e","element","srcElement","nodeType","parentNode","ctrlKey","altKey","metaKey","keyCode","which","tagName"],"sourceRoot":""}