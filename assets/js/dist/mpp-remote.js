!function(){"use strict";var e,a,t={567:function(e){e.exports=window.jQuery}},i={};function d(e){var a=i[e];if(void 0!==a)return a.exports;var p=i[e]={exports:{}};return t[e](p,p.exports,d),p.exports}d.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(a,{a:a}),a},d.d=function(e,a){for(var t in a)d.o(a,t)&&!d.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},d.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a=d(567),(e=d.n(a)())((function(){const a=mpp.mediaUtils;let t,i,d=_.template("<li class='mpp-uploaded-media-item mpp-remote-uploaded-media-item' id='mpp-uploaded-media-item-<%= id %>' data-media-id='<%= id %>'><a href='<%=  permalink %>'><img src='<%= thumb_url %>' /></a><a href='#' class='mpp-delete-uploaded-media-item'>x</a></li>"),p=_.template("<li class='mpp-uploaded-media-item mpp-remote-uploaded-media-item mpp-remote-uploaded-media-item mpp-remote-uploaded-media-item-type-<%= remote_type %>' id='mpp-uploaded-media-item-<%= id %>' data-media-id='<%= id %>'><%= html %><a href='#' class='mpp-delete-uploaded-media-item'>x</a></li>"),m=_.template("<li id='<%= id %>'><span class='mpp-remote-url-name'><%= url %></span><span class='mpp-remove-remote-media'>x</span> <b></b></li>");e(document).on("click",".mpp-add-remote-media",(function(){mpp.clearNotice();var n=e(this),r="",o=0,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),s=e("#mpp-upload-gallery-id");if(s.get(0)&&(o=s.val()),i=n.parents(".mpp-new-media-container"),t=i.find("input.mpp-remote-media-url"),!t.get(0)||""===t.val().trim())return mpp.notify(_mppUploadSettings.empty_url_message,"error"),!1;var u=i.find(".mpp-context");u.get(0)&&(r=u.val());var c=t.val(),f=i.find(".mpp-uploading-media-list ul");f.find(".mpp-loader").show();var _=i.find(".mpp-remote-media-upload-feedback ul"),g=c.length>20?c.substr(0,20)+"...":c;return _.append(m({id:l,url:g})),t.val(""),e.post(ajaxurl,{action:"mpp_add_remote_media",url:c,gallery_id:o,context:r,_wpnonce:i.find("#mpp-remote-media-nonce").val()},(function(e){f.find(".mpp-loader").hide(),_.find("li#"+l).remove(),e.success?(a.addAttachedMedia(i,e.data.id),e.data.is_oembed?f.append(p(e.data)):f.append(d(e.data))):mpp.notify(e.data.message,"error")})),!1})),e(document).on("click",".mpp-uploading-media-list .mpp-delete-uploaded-media-item",(function(){let a=e(this),t=a.parent(),i=a.parents(".mpp-new-media-container"),d=t.data("media-id");if(!d)return!1;let p=t.find("img"),m=p.attr("src");p.attr("src",_mppSettings.loader_src),a.hide();var n=e("#_mpp_manage_gallery_nonce").val();return e.post(ajaxurl,{action:"mpp_delete_media",media_id:d,cookie:encodeURIComponent(document.cookie),_wpnonce:n},(function(e){void 0!==e.success?(t.remove(),mpp.mediaUtils&&mpp.mediaUtils.removeAttachedMedia(i,d),mpp.notify(e.message)):(a.show(),p.attr("src",m),mpp.notify(e.message))}),"json"),!1}))}))}();
//# sourceMappingURL=mpp-remote.js.map