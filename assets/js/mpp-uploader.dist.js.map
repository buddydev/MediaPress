{"version":3,"file":"./assets/js/mpp-uploader.dist.js","mappings":"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","sources":["webpack://mediapress/./assets/js/src/globals.js","webpack://mediapress/./assets/js/src/uploader.js","webpack://mediapress/./assets/js/src/utils/event-registry.js","webpack://mediapress/./assets/js/src/utils/functions.js","webpack://mediapress/./assets/js/src/utils/lightbox-utils.js","webpack://mediapress/./assets/js/src/utils/media-utils.js","webpack://mediapress/./assets/js/src/utils/notice.js","webpack://mediapress/external window \"Dropzone\"","webpack://mediapress/external window \"_\"","webpack://mediapress/external window \"jQuery\"","webpack://mediapress/external window [\"wp\",\"hooks\"]","webpack://mediapress/webpack/bootstrap","webpack://mediapress/webpack/runtime/compat get default export","webpack://mediapress/webpack/runtime/define property getters","webpack://mediapress/webpack/runtime/hasOwnProperty shorthand","webpack://mediapress/webpack/runtime/make namespace object","webpack://mediapress/./assets/js/mpp-uploader.js"],"sourcesContent":["import { createHooks } from '@wordpress/hooks';\n// Make mpp global object.\nimport Uploader from \"./uploader\";\nimport {mpp_mejs_activate_lightbox_player, mpp_mejs_activate} from \"./utils/media-utils\";\nimport lightbox from './utils/lightbox-utils';\nimport {notify, clearNotice} from './utils/notice';\n\nlet mpp = window.mpp || {};\n\nmpp.hooks = createHooks();\nmpp.Uploader = Uploader;\nmpp.lightbox = lightbox;\n\n//allow plugins/theme to override the notification\nif (mpp.notify === undefined) {\n    mpp.notify = notify;\n    mpp.clearNotice = clearNotice;\n}\nwindow.mpp = mpp;\n\nwindow.mpp_mejs_activate = mpp_mejs_activate;\nwindow.mpp_mejs_activate_lightbox_player = mpp_mejs_activate_lightbox_player;\n// Keeps track of the uploader.\nwindow._mppUploaders = window._mppUploaders || {};\nwindow._mppUploadSettings = window._mppUploadSettings || {};\n\n","\n// If you are using JavaScript/ECMAScript modules:\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport Dropzone from 'dropzone';\n\nimport \"./globals\";\nimport EventRegistry from './utils/event-registry';\n\nexport default class Uploader {\n\n    constructor(id, args) {\n        this.id = id;\n\n        this.mediaType = args.mediType|| '';\n\n        this.allowedFileTypes = args.allowedFileTypes || null;\n\n        this.params = args.params || {};\n\n        this.$el = null;\n        this.$container = null;\n        this.$wrapper = null;\n        this.$feedback = null;\n\n        this.settings = _.extend({}, {\n            'paramName': '_mpp_file',\n            'showFeedback': true,\n        },\n            args\n        );\n\n        // default events map if passed.\n        this._events = ( args.events && _.isObject(args.events) ) ? args.events : {};\n        // keeps a list of all registered events and associated callbacks.\n        this._eventRegistry = new EventRegistry();\n\n        this._dropzone = null;\n        // is the Uploader enabled?\n        this._isEnabled = !!args.isEnabled;\n        this._initialized = false;\n        window._mppUploaders[this.id] = this;\n    }\n\n    // Initialize uploader.\n    init() {\n        // should we test if the uploader was initialized earlier?\n\n        if( this._initialized ) {\n            return false;\n        }\n\n        console.log( \"Uploader initialized\");\n\n        if( ! this.settings.el ) {\n            return false;\n        }\n\n        this.$el = $(this.settings.el);\n\n        if( ! this.$el.length ) {\n            return false;\n        }\n        this.$container = this.$el.parents('.mpp-media-upload-container');\n        this.$wrapper = this.$el.parents('.mpp-new-media-container');\n        this.$feedback = this.$container.find('.mpp-feedback ul');\n\n        this._initialized = true;\n        this._createDropzone();\n        this._bindEvents();\n    }\n\n    /**\n     * Creates a new dropzone.\n     */\n    _createDropzone() {\n        // when creating dropzone, use the\n        this.settings.acceptedFiles = this.allowedFileTypes;\n        //this.settings.accept = this.settings.accept || this.accept.bind(this);\n        this._dropzone = new Dropzone(this.$el.get(0), this.settings);\n    }\n\n    /**\n     * Binds various events.\n     */\n    _bindEvents() {\n\n\n        if( ! mpp.hooks.applyFilters('mpp_test_blabla', true, \"HELLOOOOO\" ) ) {\n            return;\n        }\n\n        console.log(\"Initializing events\");\n        // attach extra parameters to Request when a new request is being created.\n        this.on('sending' , this._appendParametersToRequest.bind(this));\n        // on success.\n        this.on('success' , this._onSucess.bind(this));\n        //on upload error.\n        this.on('error' , this._onError.bind(this));\n        // when the remove is clicked.\n        this.on('removedfile' , this._onFileRemove.bind(this));\n\n        let events = this._events || {};\n\n        for( let event in events ) {\n            let callback = events[event];\n            this.on(event ,callback);\n           // this.uploader.on(event, callback);\n        }\n    }\n\n    accept(file, done) {\n    }\n\n    _onFileRemove(file ) {\n        if( ! file.attachmentID ) {\n            this.cleanFeedback(file);\n                return;\n        }\n        console.log(\"Removing file...\"  + file.attachmentID );\n        // send ajax request for deletion\n        // clean.\n    }\n\n    _onSucess(file, response, e) {\n        if( ! _.isObject(response)) {\n            response = JSON.parse( response);\n        }\n\n        if( response.success ) {\n            file.attachmentID = response.data.id;\n        }\n        console.log(\"response\");\n        console.log(response);\n        console.log(response);\n        console.log(response.data);\n        console.log(response.data.filename);\n    }\n\n    _onError(file, response, e ) {\n        if( ! _.isObject( response) || ! file.previewElement ) {\n            return;\n        }\n\n        let message;\n        file.previewElement.classList.add(\"dz-error\");\n        if (response.data && response.data.message ) {\n            message = response.data.message;\n        } else {\n            message = \"There was an issue uploading\";\n        }\n\n        for (let node of file.previewElement.querySelectorAll(\n            \"[data-dz-errormessage]\"\n        )) {\n            node.textContent = message;\n        }\n\n        this.$feedback.append(\n         `<li id=\"mpp-upload-feedback-${file.upload.uuid}\">${message}</li>`\n        );\n    }\n\n    _appendParametersToRequest(file, xhr, formData ) {\n\n        for( let paramName in this.params ) {\n            formData.set( paramName, this.params[paramName]);\n        }\n    }\n\n    cleanFeedback(file) {\n        this.$feedback.find(`#mpp-upload-feedback-${file.upload.uuid}`).remove();\n    }\n\n    /**\n     *\n     * @param event  name or map of event:callback\n     * @param callback Optional callback if event name is passed as first parameter.\n     * @returns {Uploader}\n     */\n    on(event, callback) {\n\n        if( ! this._dropzone) {\n           return this;\n        }\n\n        if( _.isObject( event ) ) {\n            for ( let evt in event) {\n                this._dropzone.on(event , event[evt]);\n                this._eventRegistry.add(event, event[evt]);\n            }\n        } else {\n            this._dropzone.on(event , callback);\n            this._eventRegistry.add(event, callback);\n        }\n\n        return this;\n    }\n\n    off(event, callback ) {\n\n        if (  this._dropzone) {\n            this._dropzone.off(event , callback);\n            this._eventRegistry.remove(event, callback);\n        }\n\n        return this;\n    }\n\n    getAttachedEvents(eventName) {\n        return this._eventRegistry.get(eventName);\n    }\n\n    getRegisteredEvents() {\n        return this._eventRegistry.getAll();\n    }\n\n    getAttachedCallbacks(event) {\n        return this._eventRegistry.get(event);\n    }\n\n    getMediaType() {\n        return this.mediaType;\n    }\n\n    setMediaType( type ) {\n        this.mediaType = type;\n    }\n\n    getAllowedFileTypes() {\n        return this.allowedFileTypes;\n    }\n\n    setAllowedFileTypes( types ) {\n        this.allowedFileTypes = _.isArray( types ) ? types.join(',') : types;\n    }\n\n    getParam(name) {\n        return this.params[name] || null;\n    }\n\n    setParam(name, val ) {\n       this.params[name] = val;\n       return this;\n    }\n\n    getParams() {\n        return this.params;\n    }\n\n    setParams(params) {\n        this.params = params;\n        return this;\n    }\n\n    getSettings() {\n        return this.settings;\n    }\n\n    updateSettings(settings) {\n        this.settings = _.isObject( settings ) ? settings : this.settings;\n    }\n\n    isEnabled() {\n      return  this._isEnabled;\n    }\n\n    disable() {\n        if( this._dropzone ) {\n            this._dropzone.disable();\n            this._isEnabled = false;\n        }\n    }\n\n    enable() {\n        if( this._dropzone ) {\n            this._dropzone.enable();\n        }\n    }\n\n    reset() {\n       // this.params = {};\n       // this.context = '';\n        if( this._dropzone) {\n            this._dropzone.removeAllFiles(true);\n        }\n    }\n\n    destroy() {\n        if (this._dropzone) {\n            this._dropzone.destroy();\n        }\n        this._initialized = false;\n        delete window._mppUploaders[this.id];\n    }\n\n    /**\n     * Prints debug information.\n     */\n    debug() {\n\n        for ( let key in this) {\n            // do not print functions\n            // dom reference(non serializable)\n            // dropzone object(non serializable)\n            if( '$'=== key[0] || '_dropzone' === key ||  _.isFunction(this[key])) {\n                continue;\n            }\n\n            console.log( key + '=>' + JSON.stringify( this[key] ) );\n        }\n    }\n    getUploadedFiles() {\n        if( this._dropzone){\n            return this._dropzone.getFilesWithStatus(Dropzone.SUCCESS);\n        }\n        return [];\n    }\n\n    //Get all successful uploaded media ids\n    getUploadedMediaIDs() {\n        let mediaIDs=[], files= this.getUploadedFiles();\n        for(let file of files ) {\n            if( ! file.attachmentID ) {\n                continue;\n            }\n\n            mediaIDs.push(file.attachmentID);\n        }\n        return mediaIDs;\n    }\n\n    refresh() {\n        if( this._dropzone) {\n            this._dropzone.removeAllFiles(true);\n            this.update({'allowedFileTypes': this.allowedFileTypes});\n        }\n    }\n    // Hides the UI.\n    hideUI() {\n        if( ! this.$wrapper ) {\n            return;\n        }\n\n        this.$wrapper.slideUp('slow', function () {\n            $(this).removeClass('mpp-new-media-container-active').addClass('mpp-new-media-container-inactive');\n        });\n    }\n\n    // Shows Ui back.\n    showUI() {\n\n        if( ! this.$wrapper ) {\n            return;\n        }\n\n        this.$wrapper.slideDown('slow', function () {\n            $(this).removeClass('mpp-new-media-container-inactive').addClass('mpp-new-media-container-active');\n        });\n\n        //this.$container.show();\n    }\n\n    isAttached() {\n        return !!this.$el;\n    }\n\n    openFileChooser(){\n        if( this._dropzone && this._dropzone.clickableElements.length ) {\n            let $el =$( this._dropzone.clickableElements[this._dropzone.clickableElements.length-1]).first();\n            if( $el.length ) {\n             $el.click();\n            }\n        }\n    }\n\n    update(options) {\n        let dropzone = this._dropzone;\n\n        if (!dropzone) {\n            return false;\n        }\n\n        if( options.allowedFileTypes ) {\n            this.settings.allowedFileTypes = options.allowedFileTypes;\n            dropzone.options.acceptedFiles = options.allowedFileTypes ;\n            dropzone.hiddenFileInput.setAttribute(\n                \"accept\",\n                dropzone.options.acceptedFiles\n            );\n        }\n\n        if( options.dictInvalidFileType ) {\n            dropzone.options.dictInvalidFileType = options.dictInvalidFileType;\n        }\n\n        return true;\n    }\n}\n","\n/// Event helper is based on Dropzone.js's Emitter class\n// @see https://github.com/dropzone/dropzone/blob/main/src/emitter.js\nexport default class EventRegistry {\n\n    constructor() {\n        this._callbacks = {};\n    }\n\n    // Add an event listener for given event\n    add(event, fn) {\n        // Create namespace for this event\n        if (!this._callbacks[event]) {\n            this._callbacks[event] = [];\n        }\n        this._callbacks[event].push(fn);\n        return this;\n    }\n\n    // Remove event listener for given event. If fn is not provided, all event\n    // listeners for that event will be removed. If neither is provided, all\n    // event listeners will be removed.\n    remove(event, fn) {\n        if (!this._callbacks || arguments.length === 0) {\n            this._callbacks = {};\n            return this;\n        }\n\n        // specific event\n        let callbacks = this._callbacks[event];\n        if (!callbacks) {\n            return this;\n        }\n\n        // remove all handlers\n        if (arguments.length === 1) {\n            delete this._callbacks[event];\n            return this;\n        }\n\n        // remove specific handler\n        for (let i = 0; i < callbacks.length; i++) {\n            let callback = callbacks[i];\n            if (callback === fn) {\n                callbacks.splice(i, 1);\n                break;\n            }\n        }\n\n        return this;\n    }\n\n    get(event) {\n        // specific event\n        let callbacks = this._callbacks[event];\n        if (!callbacks) {\n            return null;\n        }\n\n        return callbacks;\n    }\n\n    getAll() {\n        return this._callbacks;\n    }\n}\n","\nfunction prepareExtensions(extension) {\n    if( ! extension || ! extension.length ) {\n        return '';\n    }\n\n    let exts = extension.split(','), preparedExts=[];\n    for( let extension of exts ) {\n        extension = extension.trim();\n\n        if ( ! extension.length ) {\n            continue;\n        }\n\n        if( '.' !== extension[0]) {\n            extension = '.' + extension;\n        }\n        preparedExts.push(extension);\n    }\n\n    return preparedExts.join(',');\n}\n\n/**\n * Get the  value of a query parameter from the url\n *\n * @param param string the query var to be found.\n * @param queryString the query string.\n * @returns string\n */\nfunction getQueryParameter(param, queryString) {\n    var items;\n\n    if (typeof queryString === \"undefined\" || !queryString.length) {\n        return false;\n    }\n\n    var data_fields = queryString.split('&');\n\n    for (var i = 0; i < data_fields.length; i++) {\n\n        items = data_fields[i].split('=');\n\n        if (items[0] == param) {\n            return items[1];\n        }\n    }\n\n    return false;\n}\n/**\n * Extract a query variable from url\n *\n * @param param string\n * @param url string\n * @returns {Boolean|String|mixed}\n */\nfunction getURLParameter(param, url) {\n    let chunks = url.split('?');\n    return getQueryParameter(param, chunks.length > 1 ? chunks[1] : '');\n}\nexport {prepareExtensions, getQueryParameter, getURLParameter};","//Lightbox utility API.\n\nimport $ from 'jquery';\n\nexport default {\n    /**\n     * Open Lightbox with the Media Collection.\n     *\n     * @param {array} items array of media items\n     * @param {int} position numeric position of the media to be shown by default\n     * @param {string} fallback_url open this url on error.\n     */\n    open: function (items, position, fallback_url) {\n        if (items.length < 1) {\n            window.location = fallback_url;\n            return;\n        }\n\n        $.magnificPopup.open({\n                items: items,\n                type: 'inline',\n                closeBtnInside: false,\n                preload: [1, 3],\n                closeOnBgClick: true,\n                showCloseBtn: true,\n                closeMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close mpp-lightbox-close-btn\">&#215;</button>',\n                gallery: {\n                    enabled: true,\n                    navigateByImgClick: true,\n                    //arrowMarkup: '',// disabled default arrows\n                    preload: [0, 1] // Will preload 0 - before current, and 1 after the current image\n                }\n            },\n            position\n        );\n\n        // new api.\n        $(document).trigger('mpp:lightbox:opened', [items, position] );\n\n        // backaward compatibility.\n        $(document).trigger('mpp_lightbox_opened');\n    }, //open lightbox\n\n    /**\n     * Update the lightbox content with given html.\n     *\n     * @param {string} content content.\n     *\n     * @returns {boolean}\n     */\n    update: function (content) {\n        if (!mpp.lightbox.isLoaded()) {\n            return false;\n        }\n        var magnificPopup = $.magnificPopup.instance;\n        magnificPopup.currItem.src = content;\n        magnificPopup.items[magnificPopup.index] = magnificPopup.currItem;\n        magnificPopup.updateItemHTML();\n    }, // update current open box with the content.\n\n    gallery: function (gallery_id, position, url, media_id) {\n        var $lightbox = this;\n        //get the details from server.\n        $.post(ajaxurl, {\n                action: 'mpp_fetch_gallery_media',\n                gallery_id: gallery_id,\n                cookie: encodeURIComponent(document.cookie)\n            },\n            function (response) {\n                if (response.items === undefined) {\n                    return;//should we notify too?\n                }\n\n                var items = response.items;\n                // If media ID is given\n                if (typeof media_id !== 'undefined') {\n                    position = get_media_position_in_collection(media_id, items);\n                }\n                $lightbox.open(items, position, url);\n\n            }, 'json');\n    },\n\n    /**\n     * Open one or more media(photo) in lightbox\n     *\n     * @param {string} media_ids comma separated list of media ids\n     * @param {integer} position which media to display as first\n     * @param {string} url fallback url to open if lightbox is unable to open\n     */\n    media: function (media_ids, position, url, media_id) {\n        var $lightbox = this;\n        jQuery.post(ajaxurl, {\n                action: 'mpp_lightbox_fetch_media',\n                media_ids: media_ids,\n                cookie: encodeURIComponent(document.cookie)\n            },\n            function (response) {\n                if (response.items === undefined) {\n                    return;//should we notify too?\n                }\n\n                var items = response.items;\n                // If media ID is given\n                if (typeof media_id !== 'undefined') {\n                    position = get_media_position_in_collection(media_id, items);\n                }\n                $lightbox.open(items, position, url);\n\n            }, 'json');\n    },\n\n    activity: function (activity_id, position, url, media_id) {\n        //get the details from server\n        var $lightbox = this;\n\n        jQuery.post(ajaxurl, {\n                action: 'mpp_fetch_activity_media',\n                activity_id: activity_id,\n                cookie: encodeURIComponent(document.cookie)\n            },\n            function (response) {\n                if (response.items === undefined) {\n                    return;//should we notify too?\n                }\n\n                var items = response.items;\n                // If media ID is given\n                if (typeof media_id !== 'undefined') {\n                    position = get_media_position_in_collection(media_id, items);\n                }\n\n                $lightbox.open(items, position, url);\n\n            }, 'json');\n    }, //open for activity\n\n    /**\n     * Reload given media id.\n     *\n     * @param media_id\n     */\n    reloadMedia: function (media_id) {\n        var $lightbox = this;\n        jq.post(ajaxurl, {action: 'mpp_reload_lightbox_media', 'media_id': media_id}, function (response) {\n            if (response.success) {\n                // success\n                $lightbox.update(response.data.content);\n            } else {\n                // Failed.\n            }\n        });\n    },\n\n    /**\n     * Reload the current lightbox media. It acts as refresh.\n     *\n     * @returns {boolean}\n     */\n    reloadCurrentMedia: function () {\n        var media_id = this.getCurrentMediaID();\n        if (media_id) {\n            this.reloadMedia(media_id);\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * Get Current Media Opened in the lightbox.\n     *\n     * returns 0 for invalid call.\n     *\n     * @returns {int}\n     */\n    getCurrentMediaID: function () {\n        if (!this.isLoaded() || !this.isOpen()) {\n            return 0;\n        }\n\n        var magnificPopup = jQuery.magnificPopup.instance;\n        var data = magnificPopup.currItem.data;\n        if (typeof data.id !== 'undefined') {\n            return data.id;\n        }\n\n        return 0;\n    },\n\n    /**\n     * Is Lightbox Loaded?\n     *\n     * @returns {boolean}\n     */\n    isLoaded: function () {\n        return jQuery.fn.magnificPopup !== undefined;\n    },\n\n    /**\n     * Is lightbox Open?\n     *\n     * @returns {boolean}\n     */\n    isOpen: function () {\n        return jQuery.magnificPopup.instance.isOpen === true;\n    },\n    // backward compatibility\n    is_lightbox_loaded: function () {\n        return this.isLoaded();\n    },\n    /**\n     * Check if lightbox supports given type.\n     *\n     * @param type\n     * @returns {Boolean}\n     */\n    supportsMediaType: function (type) {\n        // type unknown, or nothing is disabled or type is enabled.\n        return !type || !_mppSettings.lightboxDisabledTypes || !_mppSettings.lightboxDisabledTypes[type];\n    }\n};\n\n/**\n * Find position of the item in the given collection.\n *\n * @param media_id\n * @param items\n * @returns {number}\n */\nfunction get_media_position_in_collection(media_id, items) {\n    var index = 0;\n    var position = 0;\n    // calculate the position of this media in the collection\n    for (var i in items) {\n        if (items[i].id == media_id) {\n            position = index;\n        }\n        index++;\n    }\n\n    return position;\n}","\n\n/**\n * Activate audi/video player(MediElelement.js player)\n *\n * @param {type} activity_id\n * @returns {undefined}\n */\nfunction mpp_mejs_activate(activity_id) {\n\n    /* global mejs, _wpmejsSettings */\n    var jq = jQuery;\n\n    //when document is loading, mediaelementplayer will be undefined, a workaround to avoid double activating it\n    if (jq.fn.mediaelementplayer === undefined) {\n        return;\n    }\n\n    var settings = {};\n\n    if (typeof _wpmejsSettings !== 'undefined') {\n        settings = _wpmejsSettings;\n    }\n\n    settings.success = function (mejs) {\n        var autoplay, loop;\n\n        if ('flash' === mejs.pluginType) {\n            autoplay = mejs.attributes.autoplay && 'false' !== mejs.attributes.autoplay;\n            loop = mejs.attributes.loop && 'false' !== mejs.attributes.loop;\n\n            autoplay && mejs.addEventListener('canplay', function () {\n                mejs.play();\n            }, false);\n\n            loop && mejs.addEventListener('ended', function () {\n                mejs.play();\n            }, false);\n        }\n    };\n\n    jq('.wp-audio-shortcode, .wp-video-shortcode', jq('#activity-' + activity_id)).mediaelementplayer(settings);\n\n    jq('.wp-playlist', jq('#activity-' + activity_id)).each(function () {\n        return new WPPlaylistView({el: this});\n    });\n\n}\n\n/**\n * Activate audio/video player(MediElelement.js player) in the lightbox.\n *\n * @returns {undefined}\n */\nfunction mpp_mejs_activate_lightbox_player() {\n\n    /* global mejs, _wpmejsSettings */\n    var jq = jQuery;\n\n    //when document is loading, mediaelementplayer will be undefined, a workaround to avoid double activating it\n    if (jq.fn.mediaelementplayer === undefined) {\n        return;\n    }\n\n    var settings = {};\n\n    if (typeof _wpmejsSettings !== 'undefined') {\n        settings = _wpmejsSettings;\n    }\n\n    settings.success = function (mejs) {\n        var autoplay, loop;\n\n        if ('flash' === mejs.pluginType) {\n            autoplay = mejs.attributes.autoplay && 'false' !== mejs.attributes.autoplay;\n            loop = mejs.attributes.loop && 'false' !== mejs.attributes.loop;\n\n            autoplay && mejs.addEventListener('canplay', function () {\n                mejs.play();\n            }, false);\n\n            loop && mejs.addEventListener('ended', function () {\n                mejs.play();\n            }, false);\n        }\n    };\n\n    jq('.wp-audio-shortcode, .wp-video-shortcode', jq('.mfp-content')).mediaelementplayer(settings);\n\n    jq('.wp-playlist', jq('.mfp-content')).each(function () {\n        return new WPPlaylistView({el: this});\n    });\n\n}\n\nexport {mpp_mejs_activate_lightbox_player, mpp_mejs_activate};","\nimport $ from 'jquery';\n\nfunction notify(message, error) {\n\n    var class_name = 'updated success';\n    if (error !== undefined) {\n        class_name = 'error';\n    }\n\n    $('#mpp-notice-message').remove();// will it have side effects?\n    var selectors = ['#mpp-container', '#whats-new-form', '.mpp-upload-shortcode']; //possible containers in preferred order\n    var container_selector = '';//default\n\n    for (var i = 0; i < selectors.length; i++) {\n        if ($(selectors[i]).get(0)) {\n            container_selector = selectors[i];\n            break;\n        }\n    }\n\n    //if container exists, let us append the message\n    if (container_selector) {\n        $(container_selector).prepend('<div id=\"mpp-notice-message\" class=\"mpp-notice mpp-template-notice ' + class_name + '\"><p>' + message + '</p></div>').show();\n    }\n}\n\nfunction clearNotice() {\n    $('#mpp-notice-message').remove();\n}\nexport {notify, clearNotice};\n","module.exports = window[\"Dropzone\"];","module.exports = window[\"_\"];","module.exports = window[\"jQuery\"];","module.exports = window[\"wp\"][\"hooks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* global window */\n\nimport jQuery from 'jquery';\n\nimport {prepareExtensions} from \"./src/utils/functions\";\n\nimport \"./src/globals\";\n\n(function ( $){\n    // private copy to avoid user modifications.\n    const uploadSettings = _.clone( _mppUploadSettings );\n    $(document).ready(function() {\n\n        // context defines from where it was uploaded\n        let context = uploadSettings.params.context,\n            gallery_id = 0;\n\n        if ($('#mpp-context').length) {\n            context = $('#mpp-context').val();\n        }\n\n        if ($('#mpp-upload-gallery-id').length) {\n            gallery_id = $('#mpp-upload-gallery-id').val();\n        }\n\n        let extensions = uploadSettings.types&&uploadSettings.current_type && uploadSettings.types[uploadSettings.current_type] ? uploadSettings.types[uploadSettings.current_type] : '';\n\n        let uploader = new mpp.Uploader('gallery', {\n            el: '#mpp-upload-dropzone-gallery',\n            url: uploadSettings.url,\n            params: _.extend( {}, uploadSettings.params, { 'context':context, 'gallery_id':gallery_id} ),\n            allowedFileTypes: prepareExtensions(extensions),\n            addRemoveLinks: true,\n        });\n\n        if( mpp.hooks ) {\n            mpp.hooks.addFilter(\"mpp_test_blabla\", 'mpp', function(val, arg1) {\n                    console.log(\"Value=\"+val);\n                    console.log(\"Arg=\"+arg1);\n                return true;\n            }, 10);\n        }\n        console.log(\"Before init\");\n        // initialize.\n        uploader.init();\n\n    });\n\n})(jQuery);"],"names":["createHooks","Uploader","mpp_mejs_activate_lightbox_player","mpp_mejs_activate","lightbox","notify","clearNotice","mpp","window","hooks","undefined","_mppUploaders","_mppUploadSettings","_","$","Dropzone","EventRegistry","constructor","id","args","mediaType","mediType","allowedFileTypes","params","$el","$container","$wrapper","$feedback","settings","extend","_events","events","isObject","_eventRegistry","_dropzone","_isEnabled","isEnabled","_initialized","init","console","log","el","length","parents","find","_createDropzone","_bindEvents","acceptedFiles","get","applyFilters","on","_appendParametersToRequest","bind","_onSucess","_onError","_onFileRemove","event","callback","accept","file","done","attachmentID","cleanFeedback","response","e","JSON","parse","success","data","filename","previewElement","message","classList","add","node","querySelectorAll","textContent","append","upload","uuid","xhr","formData","paramName","set","remove","evt","off","getAttachedEvents","eventName","getRegisteredEvents","getAll","getAttachedCallbacks","getMediaType","setMediaType","type","getAllowedFileTypes","setAllowedFileTypes","types","isArray","join","getParam","name","setParam","val","getParams","setParams","getSettings","updateSettings","disable","enable","reset","removeAllFiles","destroy","debug","key","isFunction","stringify","getUploadedFiles","getFilesWithStatus","SUCCESS","getUploadedMediaIDs","mediaIDs","files","push","refresh","update","hideUI","slideUp","removeClass","addClass","showUI","slideDown","isAttached","openFileChooser","clickableElements","first","click","options","dropzone","hiddenFileInput","setAttribute","dictInvalidFileType","_callbacks","fn","arguments","callbacks","i","splice","prepareExtensions","extension","exts","split","preparedExts","trim","getQueryParameter","param","queryString","items","data_fields","getURLParameter","url","chunks","open","position","fallback_url","location","magnificPopup","closeBtnInside","preload","closeOnBgClick","showCloseBtn","closeMarkup","gallery","enabled","navigateByImgClick","document","trigger","content","isLoaded","instance","currItem","src","index","updateItemHTML","gallery_id","media_id","$lightbox","post","ajaxurl","action","cookie","encodeURIComponent","get_media_position_in_collection","media","media_ids","jQuery","activity","activity_id","reloadMedia","jq","reloadCurrentMedia","getCurrentMediaID","isOpen","is_lightbox_loaded","supportsMediaType","_mppSettings","lightboxDisabledTypes","mediaelementplayer","_wpmejsSettings","mejs","autoplay","loop","pluginType","attributes","addEventListener","play","each","WPPlaylistView","error","class_name","selectors","container_selector","prepend","show","uploadSettings","clone","ready","context","extensions","current_type","uploader","addRemoveLinks","addFilter","arg1"],"sourceRoot":""}